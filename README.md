🏠 Safeguard AI – 사생활 침해 없는 1인 가구 위험 감지 시스템

카메라 없이도 1인 가구의 생활 패턴을 분석해
실신·고독사·욕실 사고 등 위험 상황을 실시간으로 감지하는 AI 기반 안전 모니터링 시스템입니다.

센서: FSR 압력센서, PIR 모션센서, Reed 문열림 센서

하드웨어: ESP32 센서 노드 + ESP32 허브

소프트웨어: FastAPI 서버 + RandomForest 모델 + Streamlit 대시보드 + Blynk 앱

UX: Figma로 설계한 상용 서비스 디자인(SafeGuard AI)

1. 문제 정의 및 목표

1인 가구 증가와 함께 고독사·욕실 사고·장기 방치 문제가 사회 이슈로 부각

기존 CCTV 기반 솔루션은 사생활 침해, 설치 거부감, 비용 문제로 보급 한계

목표

비식별 센서만으로 생활 패턴 기반 위험 탐지

저비용 하드웨어 + 오픈소스 소프트웨어로 구현

실제 서비스까지 확장 가능한 UX/서비스 디자인 제시

2. 전체 시스템 구조
(1) 하드웨어 – IoT 센서 노드 & 허브

ESP32 센서 노드 (여러 개)

FSR 압력센서: 침대, 화장실 매트, 현관 매트, 식탁 의자

PIR 모션센서: 거실 움직임 감지

Reed 스위치: 욕실 문 / 현관 문 열림 상태

각 노드는 ESP-NOW 기반 무선 통신으로 허브에 0/1 상태 또는 압력 값을 전송

ESP32 허브 (1개)

모든 센서 노드로부터 패킷 수신 후

PIR_living, FSR_bed, FSR_bathroom, FSR_entrance, Door_bathroom 등
상태 변수로 통합

주기적으로 현재 상태를 **JSON 형식으로 FastAPI 서버 /predict**에 HTTP POST

동시에 Blynk 앱에 센서 상태를 보내 사용자 쪽 실시간 표시

핵심: 여러 센서 노드 → 하나의 허브 ESP32 → AI 서버로 이어지는 구조

3. AI 서버 및 모델
(1) FastAPI 기반 AI 서버 (main.py)

엔드포인트: POST /predict

입력(JSON): 허브 ESP32가 보내는 실시간 센서 상태

처리 과정

입력값 → 학습 때 사용한 Feature 형태로 변환

스케일링 / 파생 특성 계산(요일, 시간, 욕실 점유 시간 등)

RandomForest 모델(activity_model.pkl) 로 예측

prediction(0/1), risk_score(0~1), status(NORMAL/DANGER) 반환

동시에 realtime_log.csv에 로그 한 줄 기록

(2) 학습 데이터 & 모델 성능

3~7일 간의 센서 로그(csv)를 이용해
일상 패턴 + 위험 상황 시나리오를 포함한 데이터셋 구성

주요 Feature:
weekday, hour, is_weekend, FSR_bed, FSR_bathroom, PIR_living, Door_bathroom 등

모델: RandomForestClassifier

시각화 결과

Feature Importance: weekday, hour, FSR_bed, PIR_living 등이 중요

Confusion Matrix / ROC Curve / PR Curve로 성능 평가

해석 포인트

**“언제, 어디에 오래 머무르는지”**가 위험 판단에 큰 영향을 줌

초기에는 위험 클래스 데이터가 적어 성능 한계가 있지만,
피드백 데이터가 쌓일수록 개선 가능한 구조

4. 실시간 모니터링 UI
(Streamlit 대시보드 + Blynk 앱 통합)
(1) Streamlit Dashboard – 관리자/관제용

FastAPI가 생성하는 realtime_log.csv를 1초 주기로 읽어 자동 갱신

현재 상태(NORMAL/DANGER), 감지 시간, 위험 확률(%)을 상단 KPI로 표시

욕실·침대 등 FSR 변화 그래프와 PIR 값 추이를 하단에 시계열로 표시

“네, 정상입니다 / 네, 위험입니다” 버튼을 통해
AI 예측에 대한 피드백 레이블 수집 → 모델 개선에 사용

역할: 패턴 분석 + 모델 개선을 담당하는 관제·연구자용 화면

(2) Blynk 앱 – 실제 기술 구현 UI

슬라이드처럼, 스마트폰 화면에서 현재 센서 상태를 바로 확인할 수 있도록 구현.

Living / Entrance / Toilet / Bed / Dining Chair / Bathroom Door 상태를 원형 인디케이터로 표시

위험 시 사용자가 즉시 버튼으로 대응 여부를 표시할 수 있는 인터랙션 제공

ESP32 허브가 보내는 센서 값을 그대로 받아 표시 →
실제 하드웨어와 연결된 동작 데모

역할: 현 시스템이 실제 스마트폰에서도 작동한다는 것을 보여주는 프로토타입 UI

5. Figma 기반 상용 서비스 디자인 (SafeGuard AI)

실제 상용화를 염두에 두고, Blynk·Streamlit 수준을 넘어선 최종 서비스 UX를 Figma로 설계.

(1) 메인 화면 – 모드 선택

로고: SafeGuard AI

서브 타이틀: “프라이버시 우선 안전 모니터링”

두 가지 모드 제공

사용자 모드 – 독거 가구 당사자용

보호자 모드 – 가족/보호자용 모니터링

(2) 사용자 앱 (독거 가구 당사자용)

화면 전체를 차지하는 크고 명확한 두 개의 버튼

“괜찮아요”

“위험해요”

“위험해요” 버튼 누르면

보호자 전화 걸기 버튼

119 전화 연결 버튼
이 두 가지가 바로 뜨도록 설계

글자 크기·색 대비를 높여 고령자도 쉽게 사용할 수 있는 UI

(3) 보호자 앱

AI가 감지한 위험 알림을 푸시로 수신

센서별 상태와 최근 패턴을 카드/그래프로 표시

최근 알림 기록, 사용자 “위험해요” 신고 기록을 함께 보여줌

추후 확장:

주간 리포트 기능 (한 주의 활동량, 외출 빈도, 수면 패턴 등)

모델 정확도·오탐률 변화 그래프로 서비스 신뢰도 시각화

발표/README용 문장 예시
“단순히 수치를 나열하는 것이 아니라,
고령의 보호자도 한눈에 이해할 수 있는 그래픽과 주간 리포트를 제공해
기술을 넘어 ‘돌봄 서비스’로 발전시키는 방향까지 설계했습니다.”

6. 프로젝트 의의

프라이버시 보호: 카메라 없이도 위험 상황을 감지할 수 있는 대안 제시

엔드투엔드 구현:
센서 하드웨어 → 무선 통신 → 허브 → AI 서버 → 대시보드/앱까지 실제로 동작하는 랩 스케일 프로토타입 완성

서비스 확장성:
Figma 디자인을 통해 상용 서비스로 발전 가능한 UX 방향까지 제안

연구/대회 활용성:

IoT + AI + HCI가 모두 들어간 통합 프로젝트

실험 데이터 축적과 모델 고도화를 통해 계속 발전 가능
